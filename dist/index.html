<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<style>
		.sheet-content{
			visibility: hidden;
			position: fixed;
			top: 0;
			left: 0;
		}
		.sheet-handle{
			position: fixed;
			bottom: -70px;
			left: 0;
			width: 100%;
			height: 100px;
			padding-top: 0.5rem;
    		padding-bottom: 1rem;
    		border-top-left-radius: 5px;
		    border-top-right-radius: 5px;
		    box-sizing: border-box;
		    background: #ffffff;
		    transition: all .1s;
		}
		.sheet-handle__line{
			margin: 0 auto;
			width: 2.5rem;
			height: 0.3125rem;
			border-radius: 10px;
			background: #c4c4c4;

		}
	</style>
</head>
<body>
	<div id="myContainer">
		<h1>Skotnik</h1>
		<button>open</button>
		<p>Далеко-далеко за словесными горами в стране гласных и согласных живут рыбные тексты. Он дорогу решила наш ему за послушавшись буквоград, рукопись которое взгляд всеми инициал до, власти, от всех. Которой, своего. Все, свое. Снова раз ты предупреждал, коварный ее пояс толку они, рукопись грамматики однажды вопрос рот щеке безопасную себя повстречался послушавшись своих мир. Лучше семь продолжил повстречался правилами агентство он до там текст. Собрал продолжил ведущими залетают предупредила сих там проектах снова встретил первую возвращайся над выйти взгляд буквенных правилами послушавшись большого злых курсивных составитель образ имеет, переписали не агентство взобравшись последний переулка? Прямо, ipsum родного диких по всей своего все коварный вдали эта всеми это. Великий всеми рукопись подпоясал строчка деревни безопасную заманивший ручеек страну, не семь маленький маленькая использовало первую алфавит возвращайся до, ведущими! Он ручеек толку всемогущая единственное города диких океана живет, если текстами необходимыми щеке заманивший свой пор, напоивший продолжил всеми грустный? Скатился обеспечивает даль раз то свой домах использовало прямо продолжил диких, буквоград по всей грамматики однажды взгляд последний гор от всех ведущими курсивных! Ему родного, толку обеспечивает своего необходимыми единственное до точках речью скатился за? Гор заманивший подзаголовок, использовало по всей, дороге океана если языком текстов заглавных предупреждал несколько на берегу возвращайся предложения жаренные, даль. Живет журчит напоивший вопрос парадигматическая вопроса деревни меня то ручеек возвращайся силуэт, взгляд имени имеет текста запятых своих заманивший они если заголовок текстами букв знаках. Имеет переулка оксмокс запятой ручеек рукопись, букв рекламных рыбными языком однажды дороге это дал если, лучше. Если оксмокс злых рукопись, текстами грустный путь свое пунктуация даль дал. Он, деревни бросил страна рот необходимыми возвращайся вскоре всемогущая, подпоясал собрал переулка семь путь инициал своего обеспечивает? Выйти проектах если за, заманивший своего эта несколько ему дороге залетают рот текста продолжил всеми, злых раз предупредила но, повстречался ручеек одна! Вершину, дороге, предложения? Маленький щеке диких рыбными моей. Что продолжил которое переписывается она себя, коварных языкового, назад коварный возвращайся. Речью, страну до силуэт первую реторический безорфографичный, океана ее подзаголовок обеспечивает гор, парадигматическая алфавит предложения снова страна несколько власти. Пунктуация своего, океана пустился, журчит там, моей на берегу инициал даль предложения буквенных имеет повстречался? Дал вдали, lorem пор ручеек букв деревни подзаголовок что моей города дороге, раз, но реторический сбить большого на берегу родного правилами составитель прямо вопрос, решила имени если. Города ведущими lorem продолжил предупреждал щеке там безопасную свое которой текста единственное необходимыми дал домах обеспечивает агентство снова меня заманивший не, переписали жизни решила эта до использовало имеет напоивший. Рекламных снова, инициал буквоград меня до предупреждал они подзаголовок реторический безопасную своего на берегу города от всех букв, речью встретил решила, вскоре раз вопроса! Назад текстами взгляд заманивший языкового строчка напоивший толку пустился переписали выйти путь, ведущими, переписывается дороге. Заманивший рот вопроса его свой пустился переписывается мир сбить приставка свое диких запятой переулка страну букв, агентство продолжил не маленький снова инициал, ты большой живет о это залетают, наш рукописи. Его он родного которой это, снова однажды назад ведущими дороге над пояс свой продолжил языкового пустился журчит парадигматическая рыбными строчка до, заманивший решила! Маленький коварных текстов одна буквенных на берегу свой ведущими, рыбными рыбного несколько деревни предупреждал она его речью вопрос это, большой журчит имеет о своих вершину агентство пустился которой он, что. Бросил текстами заголовок, текстов заглавных запятой которое свое, но большого строчка страну деревни океана безопасную себя он рот точках раз жизни эта прямо большой родного ipsum. Вершину составитель пояс свой великий рот это сбить, заглавных собрал своих всеми ручеек себя меня. Снова, злых переписали города ты языкового дал возвращайся над вскоре рукопись назад свою моей коварных вершину семантика обеспечивает там речью встретил рыбными текста. То лучше, одна инициал маленькая предложения переулка однажды курсивных журчит, взобравшись. Своего, вопроса. Сих, меня рекламных толку о ipsum запятой там пунктуация инициал злых переулка его вопроса свой ты они не, ее встретил, скатился, которой. О своего пор несколько послушавшись рукописи, вершину то они путь свое рыбными взгляд использовало раз по всей рот продолжил составитель скатился всеми буквенных щеке, ведущими все он подпоясал знаках напоивший заглавных. Великий, оксмокс, страна дороге но маленькая первую это снова вершину повстречался своего власти пунктуация бросил даль залетают! Языкового собрал предложения эта маленький жаренные что имени рот осталось всеми его, lorem на берегу своего если, имеет приставка за себя всемогущая великий, мир ему, ее злых страну предупреждал он? Подзаголовок которой, буквенных силуэт, даль на берегу всемогущая! Эта, использовало, дорогу то парадигматическая, рукописи первую что она текстов однажды, составитель ipsum города языкового которое алфавит. Жизни запятой коварных повстречался обеспечивает свое, пояс, над парадигматическая речью взгляд от всех возвращайся напоивший мир, букв lorem, продолжил журчит! Переписали однажды lorem маленькая, рыбного толку. Коварных однажды правилами предупреждал предупредила вершину реторический ее последний знаках букв назад родного, сбить наш, парадигматическая злых предложения. Агентство lorem, взобравшись. Путь власти инициал щеке парадигматическая живет встретил по всей деревни единственное скатился пустился безорфографичный языкового снова строчка, лучше вершину! Маленькая щеке необходимыми вскоре точках пустился составитель злых пояс знаках вопрос, языкового алфавит напоивший себя собрал, несколько запятых наш вдали великий заманивший если агентство последний рыбного подпоясал ее силуэт. Это последний однажды, себя, меня переписали сих одна заглавных продолжил буквоград журчит выйти маленькая, напоивший, страна? Своих на берегу текстов вскоре текст образ раз семь силуэт текстами что точках страна ее свою свой, ты агентство вершину. Силуэт, пояс ручеек большого залетают себя живет путь вопрос единственное вдали, переписали заманивший алфавит обеспечивает назад выйти возвращайся они необходимыми бросил свой переулка. Языкового напоивший точках составитель прямо то города, все даль щеке рукописи свое знаках но строчка меня ipsum снова раз? Инициал жаренные коварных пор заглавных, необходимыми семь, семантика текстов речью, ручеек повстречался безорфографичный его то родного вдали по всей букв что, осталось. Взобравшись залетают буквоград это страна жаренные своего, страну бросил оксмокс использовало пояс? Над которое которой маленькая сбить взгляд повстречался мир там раз, встретил залетают вопрос, то текстов текстами предупреждал деревни необходимыми единственное это ведущими не ее толку последний дал эта. Первую реторический, по всей точках не океана. Ее, которой грамматики напоивший, снова дал сбить безопасную предложения запятой рыбного, не, до что скатился страна власти дороге щеке маленькая если ipsum переписывается свой ты своего гор вопроса? Сбить, послушавшись, домах. Не даль моей текстов, щеке инициал снова но ipsum запятых речью. Снова заглавных возвращайся, жаренные, свою пустился парадигматическая даль меня запятых обеспечивает?</p>
		<div class="sheet-content">
			<h2>iOS Style Bottom Sheet Demo</h2><p class="lead">A lightweight and easy-to-use solution for creating iOS-style bottom sheets that slide up from the bottom of the screen and display content to the user.</p><button id="closeButton">close</button>
		</div>
		<div class="sheet-handle">
			<div class="sheet-handle__line"></div>
			<h2>iOS Style Bottom Sheet Demo</h2><p class="lead">A lightweight and easy-to-use solution for creating iOS-style bottom sheets that slide up from the bottom of the screen and display content to the user.</p><button id="closeButton">close</button>
		</div>
	</div>
	<script src="frontle_bottomsheet.min.js"></script>
	<!-- <script src="use-gesture-vanilla.cjs.dev.js"></script> -->
	<script src="https://hammerjs.github.io/dist/hammer.min.js"></script>
	<script>
		var valVh = (100 * (document.querySelector('.sheet-content').clientHeight + 30)) / window.innerHeight;//вычисление высоты (vh) контента модалки для расчета высоты выдвигаемого снизу листа
		
			// console.log(Gesture);
		const bottomSheet = new BottomSheet(
		  "#myContainer",
		  document.querySelector('.sheet-content').innerHTML//получение внутреннего хтмл модалки из скрытого дива
		);
			// console.log(bottomSheet.html)
		bottomSheet.height = 100;
		bottomSheet.startY = valVh - 100;//минимальная высота выдвинутого листа
		bottomSheet.beforeOpen = (sheetID) => {
		 console.log('before opened');
		 document.body.style.overflow = 'hidden';
		}
		bottomSheet.afterEnd = (sheetID) => { 
			console.log('after closed');
		 	document.body.style.overflow = 'auto';
		}
		
		//открытие модалки по нажатию  на кнопку
		document.querySelector('button').onclick = () => {
			bottomSheet.open();

		};
		// bottomSheet.open();

		// исп-е. hammer.js для открытия модалки свайпом снизу
		var mc = new Hammer(document.querySelector('.sheet-handle'));
		mc.get('swipe').set({ velocity: 0.80, direction: Hammer.DIRECTION_VERTICAL });
		mc.on('swipe', function(ev) {
		    console.log(ev);
		});


		mc.get('pan').set({threshold: 0, pointers: 0, velocity: 0.80, direction: Hammer.DIRECTION_VERTICAL });
		mc.on("panmove", function(event) {
			console.log(event.deltaY);
			if(event.direction == 8){
				if(Math.abs(event.deltaY) > 200){
				document.querySelector('.sheet-handle').style.transform = 'translateY(0px)';

				}else{
				document.querySelector('.sheet-handle').style.transform = 'translateY('+event.deltaY+'px)';
				}
				
			}
		});
		mc.on("panend", function(event) {
			console.log(event.direction);
			if(event.direction == 8){// если свайп происходит снизу вверх - открываем модалку
				bottomSheet.open();
				document.querySelector('.sheet-handle').style.transform = 'translateY(0px)';
			}
			// sheet.style.maxHeight = Math.abs(event.deltaY) + vm.lastPosition + 'px';
		});
	</script>
</body>
</html>